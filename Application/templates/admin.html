<!DOCTYPE html>
<html>
<head>
    <title>Admin Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet"
     href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <link rel="stylesheet"
     href="{{ url_for('static', filename='adminStyle.css') }}">
</head>

<body class="admin-page">

    <div class="container mt-4">

        <h2 class="mb-4 text-center fw-bold" id="heading">
            ðŸ›’<br>Grocery Store <br>
            <span class="admin-title">ADMIN PANEL</span>
        </h2>


        <form action="/add" method="post" class="row g-3">

            <div class="col-md-4">
                <input type="text" name="name"
                class="form-control" placeholder="Product Name" required>
            </div>


            <div class="col-md-3">
                <select name="uom_name" class="form-select units" required>
                    <option value="">Select Measurement</option>

                    {% for uom in uoms %}
                        <option value="{{ uom[0] }}">
                            {{ uom[1] }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="col-md-3">
                <input type="number" step="0.01" name="price"
                class="form-control" placeholder="Price" required>
            </div>

            <div class="col-md-2">
                <button class="btn btn-primary w-100">
                    Add Product
                </button>
            </div>

        </form>

        <hr>

        <div class="d-flex justify-content-between mb-3">

            <a href="/" class="btn btn-back">
                Back
            </a>

            <a href="/reset"
            onclick="return confirm('Are you sure? This will delete ALL products');"
            class="btn btn-danger">
                Reset Data
            </a>

        </div>

        <table class="table table-bordered table-hover">

            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>UOM</th>
                    <th>Action</th>
                </tr>
            </thead>

            <tbody>
                {% for p in products %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ p[1] }}</td>
                    <td>â‚¹{{ p[2] }}</td>
                    <td>{{ p[3] }}</td>
                    <td>
                        <a href="/delete/{{ p[0] }}"
                        class="btn btn-sm btn-dlt">
                        Delete
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>

        </table>

    </div>

</body>
</html>
